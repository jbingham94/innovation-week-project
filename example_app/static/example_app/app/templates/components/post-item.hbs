<div class="card">
    <div class="card-content">
        <div class="content">
            <p class="title is-4" {{action 'goToDetail' post.id}}>{{post.title}}</p>
            <p class="subtitle is-6">{{post.authorUsername}} • {{post.categoryName}} • {{format-date post.date}}</p>
            {{post.body}}
            <br><br>
        </div>
    </div>
    <footer class="card-footer">
        <div class="card-footer-item" {{action 'vote' 'up'}}><i class="fa fa-chevron-up fa-lg {{if voteTracker.upvoted 'has-text-success' ''}}"/></div>
        <div class="card-footer-item">{{post.score}}</div>
        <div class="card-footer-item" {{action 'vote' 'down'}}><i class="fa fa-chevron-down fa-lg {{if voteTracker.downvoted 'has-text-danger' ''}}"/></div>
    </footer>
    <footer class="card-footer">
        <a class="card-footer-item" {{action 'toggleComments'}}>{{if showComments 'Hide' 'Show'}} Comments&nbsp;<i class="fa fa-chevron-{{if showComments 'up' 'down'}}"/></a>
    </footer>
    {{#if showComments}}
        <div class="card-content">
            <div>
                <div class="field is-grouped">
                    <p class="control is-expanded">
                        {{textarea class="textarea" placeholder="Your comment here..." value=commentText}}
                    </p>
                    <p class="control">
                        <a class="button is-info" {{action 'createComment'}} disabled={{submitDisabled}}>
                            Submit
                        </a>
                    </p>
                </div>
            </div>
            <div class="content">
                {{#each displayedComments as |comment|}}
                    {{comment-item comment=comment allComments=comments post=post colorClass='white-comment' userProfile=userProfile}}
                {{/each}}
            </div>
        </div>
    {{/if}}
</div>
{{yield}}
